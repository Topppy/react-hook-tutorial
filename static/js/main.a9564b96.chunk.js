(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,n,t){e.exports=t(288)},22:function(e,n,t){},288:function(e,n,t){"use strict";t.r(n);var a=t(0),l=t.n(a),r=t(11),s=t.n(r),u=(t(22),t(293)),i=t(290),o=t(292),c=t(6),d=t(291),m=t(4);function p(){var e=Object(a.useState)(0),n=Object(c.a)(e,2),t=n[0],r=n[1];return l.a.createElement("div",null,l.a.createElement("h1",null,"State Hook"),l.a.createElement("p",null,"You clicked ",t," times"),l.a.createElement("button",{onClick:function(){return r(t+1)}},"Click me"),l.a.createElement("p",null,"\u6e90\u7801\u5982\u4e0b\uff0c"),l.a.createElement(d.a,{language:"javascript",style:m.docco},"\n          import { useState } from 'react';\n\n          function Example() {\n            // Declare a new state variable, which we'll call \"count\"\n            const [count, setCount] = useState(0);\n\n            return (\n              <div>\n                <p>You clicked {count} times</p>\n                <button onClick={() => setCount(count + 1)}>\n                  Click me\n                </button>\n              </div>\n            );\n          }\n        "),"\u4ecb\u7ecd\uff1a",l.a.createElement("ul",null,l.a.createElement("li",null,"userState \u8fd4\u56de\u4e24\u4e2a\u503c\uff0c\u4e00\u4e2a\u662f\u5f53\u524d\u7684state\u503c\uff0c\u53e6\u4e00\u4e2a\u662f\u66f4\u65b0state\u7684func"),l.a.createElement("li",null,"\u8fd9\u4e2a\u66f4\u65b0state\u7684func\u4e0ethis.setState\u7c7b\u4f3c\uff0c\u9664\u4e86\u5b83\u5e76\u4e0dmerge\u65e7\u7684state"),l.a.createElement("li",null,"useState\u53ea\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5c31\u662f\u521d\u59cbstate\uff0c\u6ce8\u610f\u5230\u4e0ethis.state\u4e0d\u540c\uff0c\u8fd9\u4e2astate\u53ef\u4ee5\u4e0d\u662f\u5bf9\u8c61\uff08\u4e5f\u53ef\u4ee5\u662f\u5bf9\u8c61\uff09"),l.a.createElement("li",null,"\u5982\u679c\u591a\u6b21\u8c03\u7528useState\uff0c\u6bcf\u6b21render\u90fd\u4f1a\u6309\u7167\u4f60\u5199\u7684seState\u987a\u5e8f\u6267\u884c"),l.a.createElement("li",null,"Hooks\u65e0\u6cd5\u5728class\u7ec4\u4ef6\u4e2d\u4f7f\u7528\uff0c\u53ea\u80fd\u5728function\u7ec4\u4ef6\u4e2d\u4f7f\u7528"),l.a.createElement("li",null,"Hooks\u652f\u6301\u81ea\u5b9a\u4e49")),"\u4f7f\u7528\uff1a",l.a.createElement("ul",null,l.a.createElement("li",null,"import useState"),l.a.createElement("li",null,"\u83b7\u53d6\u5f53\u524dstate\uff1a count\uff0c\u548cstateUpdater\uff1a setCount\uff0c\uff08\u89e3\u6784\u8d4b\u503c\uff09"),l.a.createElement("li",null,"\u5728jsx\u4e2d\u76f4\u63a5\u4f7f\u7528' count '"),l.a.createElement("li",null,"\u5728click handler\u4e2d\u76f4\u63a5\u4f7f\u7528setCount")))}var f=document.title;function h(){var e=Object(a.useState)(0),n=Object(c.a)(e,2),t=n[0],r=n[1];return Object(a.useEffect)(function(){return document.title="You clicked ".concat(t," times"),function(){document.title=f}}),l.a.createElement("div",null,l.a.createElement("h1",null,"Effect Hook"),l.a.createElement("h3",null,"\u7b80\u5355\u4f8b\u5b50"),l.a.createElement("p",null,"You clicked ",t," times"),l.a.createElement("button",{onClick:function(){return r(t+1)}},"Click me"),l.a.createElement("p",null,"\u6e90\u7801\u5982\u4e0b\uff0c"),l.a.createElement(d.a,{language:"javascript",style:m.docco},"\n          import { useState, useEffect } from 'react';\n          const defaultTitle = document.title\n\n          function Example() {\n            const [count, setCount] = useState(0);\n          \n            // Similar to componentDidMount and componentDidUpdate:\n            useEffect(() => {\n              // Update the document title using the browser API\n              document.title = ".concat("You clicked ${count} times",";\n              // Similar to componentWillUnmount\n              // Specify how to clean up after this effect:\n              return () => {\n                document.title = defaultTitle\n              }\n            });\n          \n            return (\n              <div>\n                <p>You clicked {count} times</p>\n                <button onClick={() => setCount(count + 1)}>\n                  Click me\n                </button>\n              </div>\n            );\n          }\n        ")),"\u4ecb\u7ecd\uff1a",l.a.createElement("ul",null,l.a.createElement("li",null,"EffectHook\u7ed9\u4e86function\u7ec4\u4ef6\u6267\u884c\u5e26\u6709\u526f\u4f5c\u7528\u64cd\u4f5c\uff08\u79f0\u4e3aeffects\uff09\u7684\u80fd\u529b\uff0ceg. \u8bf7\u6c42\u6570\u636e\u3001\u8ba2\u9605\u3001\u6539\u53d8DOM"),l.a.createElement("li",null,"EffectHook\u4e0eClass\u7ec4\u4ef6\u7684componentDidMount, componentDidUpdate\u548c componentWillUnmount\u7684\u4f7f\u7528\u573a\u666f\u662f\u7c7b\u4f3c\u7684"),l.a.createElement("li",null,"EffectHook\u5728\u6bcf\u6b21render\u540e\u6267\u884c\uff0c\u5c31\u662f\u8bf4\uff0c\u9996\u6b21DidMount\u548c\u66f4\u65b0\u7684DidUpdate\u65f6\uff0cEffectHook\u90fd\u4f1a\u6267\u884c"),l.a.createElement("li",null,"\u7ec4\u4ef6\u5378\u8f7d\u7684\u65f6\u5019\u4e5f\u4f1a\u7ecf\u8fc7EffectHook\uff0c\u4e0d\u8fc7\u6267\u884c\u7684\u662f\u4e0d\u518d\u662fEffectHook\u672c\u8eab\uff0c\u800c\u662fEffectHook return\u7684fucntion\u3002"),l.a.createElement("li",null,"EffectHook\u4e5f\u53ef\u4ee5\u50cfStateHook\u4e00\u6837\u5728\u4e00\u4e2a\u7ec4\u4ef6\u4e2dHome\u591a\u6b21\u4f7f\u7528")),"effects\u5206\u4e3a\u4e24\u79cd\uff1a",l.a.createElement("ul",null,l.a.createElement("li",null,"\u4e0d\u9700\u8981clean up\u7684\uff0c\u6bd4\u5982\u6570\u636e\u8bf7\u6c42\uff0c\u6539\u53d8DOM\u7b49\uff0c\u6267\u884c\u5b8c\u5c31\u4e0d\u7528\u518d\u7ba1\u4e86"),l.a.createElement("li",null,"\u9700\u8981clean up\u7684\uff0c\u6bd4\u5982\u8ba2\u9605\uff0c\u5b9a\u65f6\u5668\u7b49\uff0c\u9700\u8981\u5728\u7ec4\u4ef6\u53d8\u66f4\uff0f\u9500\u6bc1\u7684\u65f6\u5019\u6e05\u7406\u4e00\u4e0b\uff0c\u907f\u514d\u5185\u5b58\u6cc4\u6f0f")),l.a.createElement("h3",null,"\u4e0d\u9700\u8981\u6e05\u7406\u7684Effects"),"\u51e0\u4e2a\u5f15\u5bfc\u6027\u95ee\u7b54\uff1a",l.a.createElement("ul",null,l.a.createElement("li",null,"useEffect\u662f\u5e72\u4ec0\u4e48\u7528\u7684\uff1f"),l.a.createElement("p",null,"\u4f7f\u7528EffectHook\u6765\u544a\u8bc9react\u5728render\u540e\u6267\u884c\u4e00\u4e9b\u4e8b\u60c5\uff0cReact\u4f1a\u4fdd\u5b58\u4f60\u4f20\u9012\u7ed9useEffect\u7684\u51fd\u6570\uff0c\u5e76\u5728DOM\u66f4\u65b0\u4e4b\u540e\u6267\u884c"),l.a.createElement("li",null,"\u4e3a\u4ec0\u4e48\u5728\u7ec4\u4ef6\u5167\u8c03\u7528useEffect\uff1f"),l.a.createElement("p",null,"\u53ef\u4ee5\u5229\u7528\u95ed\u5305\u7684\u7279\u6027\u6765\u8bbf\u95eestate\uff0cprops"),l.a.createElement("li",null,"useEffect\u6bcf\u6b21render\u4e4b\u540e\u90fd\u4f1a\u6267\u884c\u4e48\uff1f"),l.a.createElement("p",null,"\u662f\u7684\u3002react\u4fdd\u8bc1\u5728\u6bcf\u6b21DOM\u66f4\u65b0\u540e\u8c03\u7528useEffect")),"\u4e0ecomponentDidMount, componentDidUpdate\u7684\u4e00\u4e2a\u5173\u952e\u6027\u5dee\u5f02\u5728\u4e8e\uff1a",l.a.createElement("ul",null,l.a.createElement("li",null,"useEffect\u8c03\u5ea6\u7684effects\u4e0d\u4f1a\u963b\u585e\u6d4f\u89c8\u5668\u66f4\u65b0\uff0c\u4f1a\u5ef6\u8fdf\u5230\u6d4f\u89c8\u5668\u7ed8\u5236\u5b8c\u540e\u6267\u884c\uff0c\u54cd\u5e94\u4f53\u9a8c\u66f4\u597d")),l.a.createElement("h3",null,"\u9700\u8981\u6e05\u7406\u7684Effects"),"\u51e0\u4e2a\u5f15\u5bfc\u6027\u95ee\u7b54",l.a.createElement("ul",null,l.a.createElement("li",null,"\u4e3a\u4ec0\u4e48effect\u8981return\u4e00\u4e2afunction\uff1f"),l.a.createElement("p",null,"\u8fd9\u662feffects\u7684\u53ef\u9009\u6e05\u7406\u673a\u5236\uff0c\u6bcf\u4e2aeffect\u90fd\u53ef\u4ee5return\u4e00\u4e2afucntion\u7528\u6765\u6e05\u7406\u81ea\u5df1"),l.a.createElement("li",null,"\u4ec0\u4e48\u65f6\u5019React\u4f1a\u6e05\u7406effect\u7684\uff1f"),l.a.createElement("p",null,"\u7ec4\u4ef6\u5378\u8f7d\u7684\u65f6\u5019\uff0creact\u4f1a\u6267\u884c\u6e05\u7406\u3002"),l.a.createElement("p",null,"\u7136\u800c\uff0c\u4e0a\u6587\u4e2d\u63d0\u5230\uff0creact\u4f1a\u5728\u6bcf\u6b21render\u7684\u65f6\u5019\u90fd\u6267\u884ceffects\uff0c\u800c\u4e0d\u662f\u53ea\u6267\u884c\u4e00\u6b21\u3002"),l.a.createElement("p",null,"\u56e0\u6b64\u5b9e\u9645\u4e0a\uff0creact\u5728\u6267\u884c\u4e0b\u6b21effects\u524d\u4e5f\u4f1a\u6e05\u7406\u6389\u4e0a\u6b21\u7684effects")),l.a.createElement("h3",null,"\u5176\u4ed6"),l.a.createElement("h4",null,"useEffect\u4e0eclass\u76f8\u6bd4\u7684\u4f18\u52bf"),l.a.createElement("ul",null,l.a.createElement("li",null,"useEffect\u5c06\u539f\u672c\u5206\u6563\u5728componentDidMount, componentDidUpdate\u548c componentWillUnmount\u4e09\u4e2a\u5468\u671f\u5167\u7684\u76f8\u5173\u903b\u8f91\u96c6\u4e2d\u5230\u4e86\u4e00\u8d77"),l.a.createElement("li",null,"useEffect\u5c06\u539f\u672c\u6df7\u548c\u5728\u540c\u4e00\u4e2a\u5468\u671f\u91cc\u7684\u591a\u4e2a\u4e92\u4e0d\u76f8\u5173\u7684\u903b\u8f91\uff0c\u901a\u8fc7\u591a\u4e2aeffects\u533a\u5206\u5f00\u6765")),l.a.createElement("h4",null,"\u4e3a\u4ec0\u4e48\u6bcf\u6b21\u66f4\u65b0\u90fd\u8981\u6267\u884ceffects"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u4e00\u4e2aclass\u7684\u4f8b\u5b50"),l.a.createElement(d.a,{language:"javascript",style:m.docco},"\n            class FriendStatusWithCounter extends React.Component {\n              constructor(props) {\n                super(props);\n                this.state = { isOnline: null };\n                this.handleStatusChange = this.handleStatusChange.bind(this);\n              }\n            \n              componentDidMount() {\n                ChatAPI.subscribeToFriendStatus(\n                  this.props.friend.id,\n                  this.handleStatusChange\n                );\n              }\n              // \u5f53props\u7684friend.id\u6539\u53d8\u7684\u65f6\u5019,\u5982\u679c\u6211\u4eec\u4e0d\u505a\u989d\u5916\u5904\u7406\uff08\u4e0b\u8ff0\u4ee3\u7801\uff09\n              // \u5c31\u4f1a\u51fa\u73b0\u4f9d\u65e7\u8ba2\u9605\u7684\u662f\u65e7\u6570\u636e\u7684bug\n              componentDidUpdate(prevProps) {\n                // \u9700\u8981\u53d6\u6d88\u8ba2\u9605\u65e7id\n                ChatAPI.unsubscribeFromFriendStatus(\n                  prevProps.friend.id,\n                  this.handleStatusChange\n                );\n                // \u91cd\u65b0\u8ba2\u9605\u65b0id\n                ChatAPI.subscribeToFriendStatus(\n                  this.props.friend.id,\n                  this.handleStatusChange\n                );\n              }\n            \n              componentWillUnmount() {\n                ChatAPI.unsubscribeFromFriendStatus(\n                  this.props.friend.id,\n                  this.handleStatusChange\n                );\n              }\n            \n              handleStatusChange(status) {\n                this.setState({\n                  isOnline: status.isOnline\n                });\n              }\n              // ...\n          "),l.a.createElement("li",null,"\u5982\u679c\u4f7f\u7528hooks\u6765\u5b9e\u73b0\u8fd9\u4e2a\u9700\u6c42"),l.a.createElement(d.a,{language:"javascript",style:m.docco},"\n          function FriendStatusWithCounter(props) {\n            const [isOnline, setIsOnline] = useState(null);\n            useEffect(() => {\n              ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);\n              return () => {\n                ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);\n              };\n            });\n          \n            function handleStatusChange(status) {\n              setIsOnline(status.isOnline);\n            }\n            // ...\n          }\n          "),l.a.createElement("li",null,"react\u901a\u8fc7\u6bcf\u6b21\u90fdrender\u90fd\u6267\u884ceffects\u5e2e\u6211\u4eec\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u5b83\u5b9e\u9645\u8c03\u7528\u5982\u4e0b\uff1a"),l.a.createElement(d.a,{language:"javascript",style:m.docco},"\n            // Mount with { friend: { id: 100 } } props\n            ChatAPI.subscribeToFriendStatus(100, handleStatusChange);     // Run first effect\n            \n            // Update with { friend: { id: 200 } } props\n            ChatAPI.unsubscribeFromFriendStatus(100, handleStatusChange); // Clean up previous effect\n            ChatAPI.subscribeToFriendStatus(200, handleStatusChange);     // Run next effect\n            \n            // Update with { friend: { id: 300 } } props\n            ChatAPI.unsubscribeFromFriendStatus(200, handleStatusChange); // Clean up previous effect\n            ChatAPI.subscribeToFriendStatus(300, handleStatusChange);     // Run next effect\n            \n            // Unmount\n            ChatAPI.unsubscribeFromFriendStatus(300, handleStatusChange); // Clean up last effect\n          ")),l.a.createElement("h4",null,"\u4f18\u5316"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u65e2\u7136\u6bcf\u6b21render\u90fd\u4f1a\u6267\u884ceffects\uff0c\u90a3\u4e48\u4f1a\u4e0d\u4f1a\u9020\u6210\u6027\u80fd\u95ee\u9898\uff1f",l.a.createElement("br",null),"\u5728class\u7ec4\u4ef6\u4e2d\uff0c\u6211\u4eec\u4f1a\u6bd4\u8f83prevState\uff0cprevProps\uff0c\u53ea\u5728\u5173\u5fc3\u7684\u6570\u636e\u53d8\u5316\u7684\u65f6\u5019\u624d\u6267\u884c\u64cd\u4f5c\u3002",l.a.createElement("br",null),"useEffect\u8003\u8651\u5230\u4e86\u8fd9\u70b9\uff0c\u5e76\u4e14\u5185\u7f6e\u4e86\u8fd9\u4e2a\u8fd9\u4e2a\u529f\u80fd\uff0c\u4f60\u53ef\u4ee5\u4e3b\u52a8\u544a\u8bc9React\u5728re-render\u7684\u65f6\u5019\uff0c\u5982\u679c\u4f60\u5173\u5fc3\u7684\u90a3\u4e2a\u503c\u6ca1\u6709\u6539\u53d8\uff0c\u90a3\u4e48\u672c\u6b21\u5c31\u8df3\u8fc7\u6267\u884ceffects\u3002"),l.a.createElement("li",null,"useEffect\u652f\u6301\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u6570\u7ec4\u7c7b\u578b\uff0c\u6570\u7ec4\u5143\u7d20\u4e3a\u6211\u4eec\u8981\u4f18\u5316\u7684\u90a3\u4e2a\u53d8\u91cf\u540d"),l.a.createElement(d.a,null,"\n            // \u7b80\u5355\u4f8b\u5b50\n            useEffect(() => {\n              document.title = ".concat("You clicked ${count} times",";\n            }, [count]); // Only re-run the effect if count changes\n\n            // \u53e6\u4e00\u4e2a\u4f8b\u5b50\n            useEffect(() => {\n              ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);\n              return () => {\n                ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);\n              };\n            }, [props.friend.id]); // Only re-subscribe if props.friend.id changes\n          ")),"\u5982\u679c\u53ea\u60f3\u5728mount\u6267\u884c\u4e00\u6b21effects\u548cunmount\u7684\u65f6\u5019\u6267\u884c\u4e00\u6b21\u6e05\u7406\uff0c\u90a3\u4e48\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u9012\u7a7a\u6570\u7ec4\uff0c\u8fd9\u4e2aeffects\u4e0d\u4f1a\u91cd\u590d\u6267\u884c\u3002",l.a.createElement("br",null),"\u56e0\u6b64\uff0c\u7b2c\u4e8c\u53c2\u6570\u4f20\u9012[]\u7684\u65f6\u5019\uff0cuseEffect\u4f1a\u66f4\u63a5\u8fd1componentDidMount\u548ccomponentWillUnmount\u7684\u6548\u679c\u3002"))}function E(){var e=Object(a.useState)(0),n=Object(c.a)(e,2),t=n[0],r=n[1],s=Object(a.useState)(0),u=Object(c.a)(s,2),i=u[0],o=u[1],p=Object(a.useState)(0),f=Object(c.a)(p,2),h=f[0],E=f[1];return l.a.createElement("div",null,l.a.createElement("h1",null,"Hooks\u89c4\u5219\uff1a"),l.a.createElement("p",null,"You clicked +1 button ",t," times"),l.a.createElement("p",null,"You clicked +2 button ",i," times"),l.a.createElement("p",null,"You clicked +3 button ",h," times"),l.a.createElement("button",{onClick:function(){return r(t+1)}},"+1"),l.a.createElement("button",{onClick:function(){return o(i+1)}},"+2"),l.a.createElement("button",{onClick:function(){return E(h+1)}},"+3"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u53ea\u80fd\u5728\u9876\u7ea7\u8c03\u7528Hooks\u3002"),l.a.createElement("p",null,"\u4e0d\u80fd\u5728\u5faa\u73af\uff0c\u6761\u4ef6\u5224\u65ad\uff0c\u5d4c\u5957\u51fd\u6570\u4e2d\u8c03\u7528Hooks\u3002\u786e\u4fdd\u6bcf\u6b21render\u7684\u65f6\u5019\uff0chooks\u90fd\u662f\u76f8\u540c\u7684\u987a\u5e8f"),l.a.createElement("li",null,"\u4e0d\u80fd\u5728\u666e\u901a\u7684js\u51fd\u6570\u4e2d\u8c03\u7528Hooks"),l.a.createElement("ol",null,l.a.createElement("li",null,"\u53ef\u4ee5\u5728React function\u7ec4\u4ef6\u4e2d\u8c03\u7528Hooks\u3002"),l.a.createElement("li",null,"\u53ef\u4ee5\u5728\u81ea\u5b9a\u4e49Hooks\u4e2d\u8c03\u7528Hooks\u3002"))),"\u5b98\u65b9\u63d0\u4f9b",l.a.createElement("a",{href:"https://www.npmjs.com/package/eslint-plugin-react-hooks"},"linter"),"\u6765\u6821\u9a8c\u8fd9\u4e9b\u89c4\u5219",l.a.createElement("h3",null,"\u4e3a\u4ec0\u4e48\u4e0dHooks\u8981\u4fdd\u8bc1\u987a\u5e8f\u4e0d\u53d8\uff1f"),l.a.createElement("p",null,"\u5f53\u4e00\u4e2afucntion\u7ec4\u4ef6\u4e2d\u6709\u591a\u4e2aHooks\u65f6\uff0cReact\u662f\u5982\u4f55\u77e5\u9053\u6bcf\u4e2auseState\u5bf9\u5e94\u7684\u662f\u54ea\u4e2astate\uff1f"),l.a.createElement("p",null,"React\u5b98\u65b9\u7ed9\u7684\u7b54\u6848\u662f\uff1aReact\u4f9d\u8d56\u4e8eHooks\u88ab\u8c03\u7528\u7684\u987a\u5e8f\u3002\u5f53\u7136\u6211\u770b\u5b8c\u5e76\u6ca1\u6709\u660e\u767d\u4e3a\u5565\uff0c\u4e8e\u662f\u5728\u6e90\u7801useState\u51fd\u6570\u91cc\u6253\u4e86\u65ad\u70b9"),l.a.createElement("p",null,"\u6700\u540e\u5b9a\u4f4d\u5230react-dom\u6e90\u7801\u7684useReducer\u51fd\u6570\uff0c\u5728\u8be5\u51fd\u6570\u4e2d\uff0cworkInProgressHook\u662f\u4ee5\u5355\u94fe\u8868\u7684\u65b9\u5f0f\u5b58\u653eHooks\uff0cReact\u53ea\u80fd\u6309\u7167\u987a\u5e8f\u4f7f\u7528next\u6765\u9010\u4e00\u6267\u884c\u6bcf\u4e2aHook\uff0c\u65e0\u6cd5\u8df3\u8fc7"),l.a.createElement(d.a,{language:"javascript",style:m.docco},"\n        function useReducer(reducer, initialState, initialAction) {\n          currentlyRenderingFiber$1 = resolveCurrentlyRenderingFiber();\n          workInProgressHook = createWorkInProgressHook();\n          var queue = workInProgressHook.queue;\n          if (queue !== null) {\n            // Already have a queue, so this is an update.\n            if (isReRender) {\n              // This is a re-render. Apply the new render phase updates to the previous\n              var _dispatch2 = queue.dispatch;\n              if (renderPhaseUpdates !== null) {\n                // Render phase updates are stored in a map of queue -> linked list\n                var firstRenderPhaseUpdate = renderPhaseUpdates.get(queue);\n                if (firstRenderPhaseUpdate !== undefined) {\n                  renderPhaseUpdates.delete(queue);\n                  var newState = workInProgressHook.memoizedState;\n                  var update = firstRenderPhaseUpdate;\n                  do {\n                    // Process this render phase update. We don't have to check the\n                    // priority because it will always be the same as the current\n                    // render's.\n                    var _action = update.action;\n                    newState = reducer(newState, _action);\n                    update = update.next;\n                  } while (update !== null);\n        \n                  workInProgressHook.memoizedState = newState;\n        \n                  // Don't persist the state accumlated from the render phase updates to\n                  // the base state unless the queue is empty.\n                  // TODO: Not sure if this is the desired semantics, but it's what we\n                  // do for gDSFP. I can't remember why.\n                  if (workInProgressHook.baseUpdate === queue.last) {\n                    workInProgressHook.baseState = newState;\n                  }\n        \n                  return [newState, _dispatch2];\n                }\n              }\n              return [workInProgressHook.memoizedState, _dispatch2];\n            }\n        \n            // The last update in the entire queue\n            var _last = queue.last;\n            // The last update that is part of the base state.\n            var _baseUpdate = workInProgressHook.baseUpdate;\n        \n            // Find the first unprocessed update.\n            var first = void 0;\n            if (_baseUpdate !== null) {\n              if (_last !== null) {\n                // For the first update, the queue is a circular linked list where\n                // `queue.last.next = queue.first`. Once the first update commits, and\n                // the `baseUpdate` is no longer empty, we can unravel the list.\n                _last.next = null;\n              }\n              first = _baseUpdate.next;\n            } else {\n              first = _last !== null ? _last.next : null;\n            }\n            if (first !== null) {\n              var _newState = workInProgressHook.baseState;\n              var newBaseState = null;\n              var newBaseUpdate = null;\n              var prevUpdate = _baseUpdate;\n              var _update = first;\n              var didSkip = false;\n              do {\n                var updateExpirationTime = _update.expirationTime;\n                if (updateExpirationTime < renderExpirationTime) {\n                  // Priority is insufficient. Skip this update. If this is the first\n                  // skipped update, the previous update/state is the new base\n                  // update/state.\n                  if (!didSkip) {\n                    didSkip = true;\n                    newBaseUpdate = prevUpdate;\n                    newBaseState = _newState;\n                  }\n                  // Update the remaining priority in the queue.\n                  if (updateExpirationTime > remainingExpirationTime) {\n                    remainingExpirationTime = updateExpirationTime;\n                  }\n                } else {\n                  // Process this update.\n                  var _action2 = _update.action;\n                  _newState = reducer(_newState, _action2);\n                }\n                prevUpdate = _update;\n                _update = _update.next;\n              } while (_update !== null && _update !== first);\n        \n              if (!didSkip) {\n                newBaseUpdate = prevUpdate;\n                newBaseState = _newState;\n              }\n        \n              workInProgressHook.memoizedState = _newState;\n              workInProgressHook.baseUpdate = newBaseUpdate;\n              workInProgressHook.baseState = newBaseState;\n            }\n        \n            var _dispatch = queue.dispatch;\n            return [workInProgressHook.memoizedState, _dispatch];\n          }\n        \n          // There's no existing queue, so this is the initial render.\n          if (reducer === basicStateReducer) {\n            // Special case for `useState`.\n            if (typeof initialState === 'function') {\n              initialState = initialState();\n            }\n          } else if (initialAction !== undefined && initialAction !== null) {\n            initialState = reducer(initialState, initialAction);\n          }\n          workInProgressHook.memoizedState = workInProgressHook.baseState = initialState;\n          queue = workInProgressHook.queue = {\n            last: null,\n            dispatch: null\n          };\n          var dispatch = queue.dispatch = dispatchAction.bind(null, currentlyRenderingFiber$1, queue);\n          return [workInProgressHook.memoizedState, dispatch];\n        }\n        "),l.a.createElement("p",null,"\u90a3\u4e48\uff0c\u5982\u679c\u4f60\u9700\u8981\u4f7f\u7528\u6761\u4ef6\u5224\u65ad\uff0c\u53ef\u4ee5\u79fb\u5230Hooks\u7684effects\u51fd\u6570\u5185\u90e8"),l.a.createElement(d.a,{language:"javascript",style:m.docco},"\n         useEffect(function persistForm() {\n          // \ud83d\udc4d We're not breaking the first rule anymore\n          if (name !== '') {\n            localStorage.setItem('formData', name);\n          }\n        });\n        "))}function k(){return l.a.createElement("div",null,l.a.createElement("h1",null,"React Hooks"),l.a.createElement("h3",null,"hooks\u4e3a\u4e86\u89e3\u51b3\u4ec0\u4e48\u95ee\u9898\uff1f"),l.a.createElement("p",null,"\u903b\u8f91\u590d\u7528"),l.a.createElement("h3",null,"class\u4f1a\u5b8c\u5168\u88ab\u66ff\u4ee3\u5417\uff1f"),l.a.createElement("p",null,"\u4e5f\u8bb8\uff0c\u4f46\u662freact\u5e76\u4e0d\u6253\u7b97\u5220\u9664\u6389class\u3002"))}function S(){return l.a.createElement("div",null,l.a.createElement("h1",null,"\u81ea\u5b9a\u4e49 Hook"),l.a.createElement("p",null,"\u81ea\u5b9a\u4e49Hook\u5c31\u662f\u4e3a\u4e86\u8ba9\u6211\u4eec\u53ef\u4ee5\u628a\u7ec4\u4ef6\u903b\u8f91\u62bd\u51fa\u6765\u53d8\u6210\u53ef\u4ee5\u590d\u7528\u7684\u51fd\u6570"),l.a.createElement("h3",null,"\u6211\u4eec\u770b\u4e00\u4e2a\u81ea\u5b9a\u4e49Hook\bs\u7684\u9700\u6c42\u573a\u666f\uff1a"),l.a.createElement(d.a,null,"\n          import { useState, useEffect } from 'react';\n\n          function FriendStatus(props) {\n            // \u91cd\u590d\u4ee3\u7801-start\n            const [isOnline, setIsOnline] = useState(null);\n          \n            function handleStatusChange(status) {\n              setIsOnline(status.isOnline);\n            }\n          \n            useEffect(() => {\n              ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);\n              return () => {\n                ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);\n              };\n            });\n            // \u91cd\u590d\u4ee3\u7801-end\n          \n            if (isOnline === null) {\n              return 'Loading...';\n            }\n            return isOnline ? 'Online' : 'Offline';\n          }\n        "),l.a.createElement("p",null,"\u8fd9\u6bb5\u4ee3\u7801\u5b9e\u73b0\u7684\u903b\u8f91\u662f\u8ba2\u9605\u4e00\u4e2a\u670b\u53cb\u7684\u5728\u7ebf\u72b6\u6001\u6570\u636e\uff0c\u6539\u53d8\u672c\u7ec4\u4ef6\u7684state\uff1aisOnline"),l.a.createElement("p",null,"\u5982\u679c\u6211\u4eec\u5728\u53e6\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u6709\u7c7b\u4f3c\u7684\u9700\u6c42\uff0c\u7528\u989c\u8272\u6765\u663e\u793a\u670b\u53cb\u5728\u7ebf\u72b6\u6001"),l.a.createElement(d.a,null,"\n          import { useState, useEffect } from 'react';\n\n          function FriendListItem(props) {\n            // \u91cd\u590d\u4ee3\u7801-start\n            const [isOnline, setIsOnline] = useState(null);\n          \n            function handleStatusChange(status) {\n              setIsOnline(status.isOnline);\n            }\n          \n            useEffect(() => {\n              ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);\n              return () => {\n                ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);\n              };\n            });\n            // \u91cd\u590d\u4ee3\u7801-end\n          \n            return (\n              <li style={{ color: isOnline ? 'green' : 'black' }}>\n                {props.friend.name}\n              </li>\n            );\n          }\n        "),l.a.createElement("p",null,"start\uff5eend\u4e4b\u95f4\u90fd\u662f\u91cd\u590d\u4ee3\u7801\uff0c\u6211\u4eec\u6700\u597d\u628a\u8fd9\u90e8\u5206\u62bd\u51fa\u6765\uff0c\u53d8\u6210\u53ef\u590d\u7528\u7684\u3002",l.a.createElement("br",null),"\u5728Hooks\u51fa\u73b0\u524d\uff0c\u6211\u4eec\u6709\u4e24\u79cd\u53ef\u4ee5\u9009\u62e9\u7684\u65b9\u6848\uff0crender props\u548c\u9ad8\u9636\u7ec4\u4ef6\uff0c\u800cHooks\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e2a\u9700\u6c42\u7684\u540c\u65f6\uff0c\u53ef\u4ee5\u907f\u514d\u589e\u52a0\u989d\u5916\u7684\u7ec4\u4ef6\u3002"),l.a.createElement("h3",null,"\u62bd\u53d6\u903b\u8f91\u505a\u6210\u81ea\u5b9a\u4e49Hooks"),l.a.createElement("p",null,"\u6211\u4eec\u5728\u5199hooks\u4e4b\u524d\uff0c\u9996\u5148\u8981\u77e5\u9053\u6211\u4eec\u8981\u5199\u7684\u662f\u4ec0\u4e48\uff0c\u81ea\u5b9a\u4e49hooks\u5e94\u8be5\u957f\u4ec0\u4e48\u6837\uff1f"),l.a.createElement("p",null,"\u5b98\u65b9\u5b9a\u4e49\uff1a\u81ea\u5b9a\u4e49Hook\u662f\u4e00\u4e2a\u540d\u5b57\u4ee5use\u5f00\u5934\u7684\uff0c\u53ef\u80fd\u4f1a\u8c03\u7528\u5176\u4ed6Hooks\u7684js\u51fd\u6570\u3002"),l.a.createElement("p",null,"\u672c\u8d28\u5c31\u662fjs\u51fd\u6570\uff0cok\uff0c\u5750\u4e0b\uff0c\u57fa\u672c\u64cd\u4f5c\uff0c\u8fd9\u4e2a\u5927\u5bb6\u90fd\u4f1a\u5199\u3002\u4e3a\u4ec0\u4e48\u8981\u4ee5use\u5f00\u5934\uff1f\u4e3a\u4e86\u80fd\u8ba9\u4f60\u4e00\u773c\u770b\u51fa\u6765\u5b83\u662f\u4e00\u4e2aHook\u3002"),l.a.createElement("p",null,"\u6211\u4eec\u628a\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684\u91cd\u590d\u4ee3\u7801\u62bd\u51fa\u6765"),l.a.createElement(d.a,null,"\n          import { useState, useEffect } from 'react';\n\n          function useFriendStatus(friendID) {\n            const [isOnline, setIsOnline] = useState(null);\n          \n            function handleStatusChange(status) {\n              setIsOnline(status.isOnline);\n            }\n          \n            useEffect(() => {\n              ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange);\n              return () => {\n                ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange);\n              };\n            });\n          \n            return isOnline;\n          }\n        "),l.a.createElement("p",null,"\u662f\u4e0d\u662f\u6ca1\u6709\u4ec0\u4e48\u65b0\u73a9\u610f\uff1f\u6211\u4eec\u5b8c\u5168\u4ece\u91cd\u590d\u4ee3\u7801\u91cc\u62f7\u8d1d\u4e86\u903b\u8f91\u8fc7\u6765\u3002\u6ce8\u610f\uff1a"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u51fd\u6570\u540d\u662fuse\u5f00\u5934"),l.a.createElement("li",null,"\u53c2\u6570\u662f\u6211\u4eec\u81ea\u5b9a\u4e49\u7684"),l.a.createElement("li",null,"\u5e76\u5728\u51fd\u6570\u7ed3\u5c3e\u8fd4\u56de\u4e86\u503c"),l.a.createElement("li",null,"\u81ea\u5b9a\u4e49\u51fd\u6570\u540c\u6837\u8981\u6ee1\u8db3Hooks\u57fa\u672c\u6cd5\uff1ano\u6761\u4ef6\u3001\u5faa\u73af\u3001\u5d4c\u5957")),l.a.createElement("h3",null,"\u4f7f\u7528\u8fd9\u4e2a\u81ea\u5b9a\u4e49Hook"),l.a.createElement(d.a,null,"\n          function FriendStatus(props) {\n            // \u4f7f\u7528\u6211\u4eec\u7684\u81ea\u5b9a\u4e49hook\n            const isOnline = useFriendStatus(props.friend.id);\n          \n            if (isOnline === null) {\n              return 'Loading...';\n            }\n            return isOnline ? 'Online' : 'Offline';\n          }\n        "),l.a.createElement(d.a,null,"\n          function FriendListItem(props) {\n            // \u4f7f\u7528\u6211\u4eec\u7684\u81ea\u5b9a\u4e49hook\n            const isOnline = useFriendStatus(props.friend.id);\n          \n            return (\n              <li style={{ color: isOnline ? 'green' : 'black' }}>\n                {props.friend.name}\n              </li>\n            );\n          }\n        "),l.a.createElement("ul",null,l.a.createElement("li",null,"\u4e24\u4e2a\u7ec4\u4ef6\u5e76\u4e0d\u5171\u4eab\u540c\u4e00\u4e2astate\uff0c\u4e92\u76f8\u662f\u9694\u79bb\u7684\u3002"),l.a.createElement("li",null,"\u5982\u4f55\u5b9e\u73b0state\u9694\u79bb\uff1f\u6267\u884c\u6211\u4eec\u7684\u81ea\u5b9a\u4e49Hook\u7b49\u4ef7\u4e8e\u6267\u884c\u4e86useHook\u3001useEffect\uff0c\u5c31\u50cf\u6211\u4eec\u5728StateHooks\u90a3\u8282\u8bb2\u8fc7\u7684 \u5728\u540c\u4e00\u4e2a\u7ec4\u4ef6\u4e2d\u591a\u6b21\u8c03\u7528useHook\u3001useEffect\uff0c\u8fd9\u4e9bstates\u548ceffects\u662f\u76f8\u4e92\u72ec\u7acb\u7684\u3002")))}var b=function(){return l.a.createElement(u.a,{basename:"/react-hook-tutorial"},l.a.createElement("div",null,l.a.createElement("nav",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(i.a,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/state-hook/"},"State Hook")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/effect-hook/"},"Effect Hook")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/rules/"},"Hooks\u89c4\u5219")),l.a.createElement("li",null,l.a.createElement(i.a,{to:"/custom-hooks/"},"\u81ea\u5b9a\u4e49Hooks")))),l.a.createElement(o.a,{path:"/",exact:!0,component:k}),l.a.createElement(o.a,{path:"/state-hook/",component:p}),l.a.createElement(o.a,{path:"/effect-hook/",component:h}),l.a.createElement(o.a,{path:"/rules",exact:!0,component:E}),l.a.createElement(o.a,{path:"/custom-hooks",exact:!0,component:S})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.a9564b96.chunk.js.map